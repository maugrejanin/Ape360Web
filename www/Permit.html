<style type="text/css">

	#role_action_form .panel-title{
		display: inline-block;
	}

	.no-action-server-msg{
		margin-left: 25px;
		margin-right: 25px;
	}

	#ds_role{
		height: 150px;
	}

	.panel-role-action table{
	    border-left: 0!important;
	    border-right: 0!important;
		margin-right: 0!important;
		width: 100%;
	}

	#permission_nav_tabs > li{
		text-align: center;
		font-weight: bold;
		text-transform: uppercase;
	}

	#permission_nav_tabs > li{
		width: 33.3%;
	}

	#permission_nav_tabs > li:last-child{
		width: 33.4%;
	}

	#permission_nav_tabs > li > a{
		margin-right: 0;
		margin-left: 0;
	}

	#role_profile_toolbar{
		padding: 10px 0;
	}

	.select-container{
		padding-top: 10px;
	}

	.panel-heading{
		font-weight: bold;
	}

	.check-server-init:not(#user_action_form .check-server-init){
 	    margin: 3px 15px 0 3px!important;
    	float: left;
    }

	.panel-tab-container{
		padding: 0 20px 20px 20px;
		border: 1px solid #ddd;
		border-top: none;
	}

	.panel-role-action .fixed-table-toolbar{
		padding-right: 20px;
	}

	#select_profile_container{
		margin-bottom: -10px;
	}

	.user-init-check-content input[type=checkbox] {
		vertical-align: middle;
		margin-top: 0px;
	}

	.user-init-check-content{
		display: inline-block;
		width: 100px;
	}

	.user-init-checks-container{
		margin-top: 10px;
	}
</style>

<div class="col-lg-12">
    <h1 id="page_header" class="page-header"></h1>
</div>

<div id="body_wrapper">
	<ul id="permission_nav_tabs" class="nav nav-tabs" role="tablist">
		<li role="presentation" class="active">
			<a href="#profile_relation" aria-controls="profile_relation" role="tab" data-toggle="tab">Perfis</a>
		</li>
		<li role="presentation">
			<a href="#role_relation" aria-controls="role_relation" role="tab" data-toggle="tab">Roles</a>
		</li>
		<li role="presentation">
			<a href="#user_relation" aria-controls="user_relation" role="tab" data-toggle="tab">Usuários</a>
		</li>
	</ul>

	<div class="tab-content">
		<div role="tabpanel" class="tab-pane active panel-tab-container" id="profile_relation">
			<form id="role_form">
				<div class="select-container" id="select_profile_container">
					<div access-action="permit.getprofileroles" class="form-group">
						<label for="id_usuario_perfil">Perfis</label>
						<div>
							<select name="id_usuario_perfil" id="id_usuario_perfil"></select>
						</div>
					</div>
				</div>
				<div id="check_role_container">
					<div id="role_profile_toolbar">
						<button access-action="permit.persistroles" type="button" id="btn_submit_roles" class="btn">Salvar</button>
						<button access-action="permit.createprofile" type="button" id="btn_new_profile" class="btn">Novo perfil</button>
					</div>

					<table id="role_table" data-toolbar="#role_profile_toolbar">
						<thead>
							<tr>
								<th data-field="id_role" data-width="150" data-formatter="Permit.treatCheckRole">Role concedida</th>
								<th data-field="nm_role" data-width="300">Nome</th>
								<th data-field="ds_role">Descrição</th>
							</tr>
						</thead>
					</table>
				</div>
			</form>
		</div>
		<div role="tabpanel" class="tab-pane panel-tab-container" id="role_relation">
			<form id="role_action_form">
				<div class="select-container" id="select_role_container">
					<div access-action="permit.getactions" class="form-group">
						<label for="id_role">Roles</label>
						<div>
							<select name="id_role" id="id_role"></select>
						</div>
					</div>
					<div class="form-group">
						<button access-action="permit.persistactions" type="button" class="btn btn-role-submit-actions">Salvar</button>
						<button access-action="permit.createrole" type="button" id="btn_new_role" class="btn">Nova role</button>
					</div>
				</div>
				<div id="check_role_action_container">
					
				</div>
				<div class="form-group">
					<button  type="button" class="btn btn-role-submit-actions">Salvar</button>
				</div>
			</form>
		</div>
		<div role="tabpanel" class="tab-pane panel-tab-container" id="user_relation">
			<form id="user_action_form">
				<div class="select-container" id="select_user_container">
					<div access-action="permit.getuserpermits" class="form-group">
						<div>
							<button type="button" class="btn" id="btn_usuario">Usuário</button>
						</div>
					</div>
					<div class="form-group">
						<button access-action="permit.persistuseractions" type="button" class="btn btn-user-submit-actions">Salvar</button>
					</div>
				</div>
				<div id="check_user_action_container">
					
				</div>
				<div class="form-group">
					<button access-action="permit.persistuseractions" type="button" class="btn btn-user-submit-actions">Salvar</button>
				</div>
			</form>
		</div>
	</div>
</div>

<div id="panel_role_html" class="hidden-html">
	<div class="panel panel-default panel-role-action">
		<div id="headingOne" class="panel-heading" role="tab">
			<h4 class="panel-title">
				<a role="button" data-toggle="collapse" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne"></a>
			</h4>
		</div>
		<div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
			<div class="panel-body">
				<p class="server-description"></p>
			</div>

			<table class="action-server-table">
				<thead>
					<tr>
						<th data-field="id_permissao" data-formatter="Permit.treatCheckAction">Permissão concedida</th>
						<th data-field="ds_titulo" data-sort="true">Nome</th>
						<th data-field="ds_permissao" data-sort="true">Descrição</th>
					</tr>
				</thead>
			</table>
		</div>
	</div>
</div>

<div id="panel_user_html" class="hidden-html">
	<div class="panel panel-default panel-role-action">
		<div id="headingOne" class="panel-heading" role="tab">
			<h4 class="panel-title">
				<a role="button" data-toggle="collapse" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne"></a>
			</h4>
		</div>
		<div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
			<div class="panel-body">
				<p class="server-description"></p>
			</div>

			<table class="action-server-table">
				<thead>
					<tr>
						<th data-field="id_permissao" data-formatter="Permit.treatCheckAction">Permissão de perfil</th>
						<th data-field="id_permissao" data-formatter="Permit.treatCheckUserPermit">Permissão de usuário</th>
						<th data-field="ds_titulo" data-sort="true">Nome</th>
						<th data-field="ds_permissao" data-sort="true">Descrição</th>
					</tr>
				</thead>
			</table>
		</div>
	</div>
</div>

<div id="new_profile_html" class="hidden-html">
	<form id="form_new_profile">
		<div class="form-group">
			<label for="nm_usuario_perfil">Nome do novo perfil</label>
			<div>
				<input required type="text" class="form-control" name="nm_usuario_perfil" id="nm_usuario_perfil" />
			</div>
		</div>
	</form>
</div>

<div id="new_role_html" class="hidden-html">
	<form id="form_new_role">
		<div class="form-group">
			<label for="nm_role">Nome da nova role</label>
			<div>
				<input required type="text" class="form-control" name="nm_role" id="nm_role" />
			</div>
		</div>
		<div class="form-group">
			<label for="ds_role">Descrição</label>
			<div>
				<textarea class="form-control" name="ds_role" id="ds_role"></textarea>
			</div>
		</div>
	</form>
</div>

<div id="no_action_server" class="hidden-html">
	<div class="well no-action-server-msg">Não há permissões a serem concedidas nessa página</div>
</div>

<div id="server_init_checks" class="hidden-html">
	<div class="user-init-checks-container">
		<div class="user-init-check-content">
			<span>Perfil: </span>
			<input type="checkbox" disabled class="server-action-check check-server-init">
		</div>
		<div class="user-init-check-content">
			<span>Usuário: </span>
			<input type="checkbox" class="server-user-action-check check-server-init-user">
		</div>
	</div>
</div>

<div id="user_table_html" class="hidden-html">
	<table id="user_table">
		<thead>
			<tr>
				<th data-field="state" data-radio="true"></th>
				<th data-field="id_usuario" data-sortable="true">ID. Usuário</th>
				<th data-field="nm_usuario_perfil" data-sortable="true">Perfil</th>
				<th data-field="ds_nome" data-sortable="true">Nome</th>
			</tr>
		</thead>
	</table>
</div>